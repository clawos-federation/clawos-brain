# ClawOS · 分布式自进化群体智能系统

## 终极规划与实施手册 2026 · v5.1 (GitHub-Native 版)

> **状态**: 归档提案
> **日期**: 2026-02-27
> **结论**: 建议在节点数 > 3 或需要外部客户接入时实施

---

## v5.1 核心新增与重构

* **GitHub-Native OS 架构**：彻底摒弃单体 `clawos-brain` 仓库，重构为"读写分离"的微仓库矩阵。GitHub Issues 升级为全局任务总线，Actions 升级为系统调度器。
* **主动进化调度器**：空闲时间 = 进化资源，7×24 自治不靠接单。
* **Agent 身份系统**：三层身份（实用层/自治层/完整自主层），每节点独立 GitHub Bot 账号+钱包。
* **联邦扩张路线图**：从2节点到多节点，专业云节点（法律/医疗/教育），对外接单。
* **自治优先于接单**：联邦主动生产价值，而非被动等待任务。
* **继承v5全部内容**：A2A协议·闲置贡献·记忆自进化·utility score·SOP自进化。

---

## 实施成本分析

| Phase | 乐观估计 | 现实估计 | 说明 |
|-------|----------|----------|------|
| Phase 0: 微仓库拆分 | 15h | 20h | 64 个 blackboard 文件迁移 |
| Phase 1: Actions 调度 | 10h | 12h | 已有完善基础 |
| Phase 2: Bot 账号 | 2 天 | 4 天 | GitHub App 注册 + 认证 |
| Phase 3: 代码迁移 | 2 周 | 3 周 | 133 处本地路径引用 |
| **总计** | **3-4 周** | **4-6 周** | |

---

## 现有 GitHub 基础设施 (v5)

```
已有:
├── 14 个 Workflows ✅
├── 4 个 Issue 模板 ✅  
├── 2 个自定义 Actions ✅
├── GitHub MCP Server (10 操作) ✅
├── 4 种 Webhook 事件 ✅
└── 双向记忆同步 (GitHub ↔ R2) ✅

缺失:
├── GitHub App 注册
├── Bot 用户账号
├── PR 自动化
└── Check Runs
```

---

## 触发条件（何时实施 v5.1）

1. 节点数 > 3 台
2. 需要外部客户直接提交 Issue
3. 需要审计追踪每个节点的操作
4. 多节点并发冲突频繁

---

## 联邦微仓库矩阵拓扑

```
clawos-federation/ (GitHub Organization)
│
├── clawos-core/                     ← 宪法与核心基因 (只读，接受 PR)
│   ├── souls/
│   ├── workflows/
│   ├── scripts/
│   └── .github/workflows/
│
├── clawos-mission-control/          ← 任务控制总线
│   ├── Issues
│   └── Projects
│
├── clawos-registry/                 ← 注册中心
│   ├── a2a-cards/
│   └── identity/
│
├── clawos-memory-bank/              ← 记忆即服务
│
├── clawos-node-mac-mini/            ← 首脑节点私有领地
├── clawos-node-macbook-air/         ← 实验节点私有领地
└── clawos-node-{future}/            ← 新云节点领地
```

---

## 进化任务分类

| 优先级 | 类型 | Label | 触发条件 |
|--------|------|-------|----------|
| P1 | 知识更新 | `Evo:P1` | 空闲 > 15分钟 |
| P2 | 能力强化 | `Evo:P2` | 空闲 > 1小时 |
| P3 | 新领域探索 | `Evo:P3` | 空闲 > 2小时 |
| P4 | 角色草稿 | `Evo:P4` | 全联邦空闲 > 半天 |

---

## 文档来源

此文档归档自 v5.1 规划讨论，包含完整的 GitHub-Native 架构设计。

**相关分析**:
- `bg_edacb504`: 仓库结构分析
- `bg_034832dc`: GitHub 集成点分析

---

*归档于 2026-02-27*
